# Allstar Nexus Configuration File
# Copy this file to config.yaml and customize for your setup
# Environment variables will override these values

# Server Configuration
port: 8080
app_env: production

# Branding
title: "Allstar Nexus"
subtitle: ""  # Optional subtitle shown in header and page title

# Database
db_path: data/allstar.db
astdb_path: data/astdb.txt
astdb_url: http://allmondb.allstarlink.org/
astdb_update_hours: 24

# Security
jwt_secret: change-me-in-production  # CHANGE THIS!
token_ttl_seconds: 86400  # 24 hours

# Rate Limiting
auth_rpm: 60
public_stats_rpm: 120

# AMI Configuration
ami_enabled: true
ami_host: 127.0.0.1
ami_port: 5038
ami_username: admin
ami_password: change-me  # CHANGE THIS!

# Node Configuration - MULTIPLE NODES SUPPORTED!
# Simple format: just list your node numbers (names auto-lookup from astdb)
nodes: [43732, 48412]

# Advanced format: specify custom names (optional)
# nodes:
#   - node_id: 43732
#     name: "K8FBI Flying Beers International Hub"
#   - node_id: 48412
#     name: "FBI HQ"

# Legacy single node support (for backwards compatibility)
# ami_node_id: 43732

ami_events: "on"
ami_retry_interval: 15s
ami_retry_max: 60s

# Feature Toggles
disable_link_poller: false
allow_anon_dashboard: true

# Gamification System Configuration (Disabled by default)
gamification:
	enabled: false
	tally_interval_minutes: 30

	rested_bonus:
		enabled: true
		accumulation_rate: 1.5
		max_hours: 336
		multiplier: 2.0

	diminishing_returns:
		enabled: true
		tiers:
			- { max_seconds: 1200, multiplier: 1.0 }
			- { max_seconds: 2400, multiplier: 0.75 }
			- { max_seconds: 3600, multiplier: 0.5 }
			- { max_seconds: 999999, multiplier: 0.25 }

	kerchunk_detection:
		enabled: true
		threshold_seconds: 3
		consecutive_window: 30
		single: 0.5
		two_to_three: 0.25
		four_to_five: 0.1
		six_plus: 0.0

	xp_caps:
		enabled: true
		daily_cap_seconds: 1200
		weekly_cap_seconds: 7200
		reset_hour: 0
		week_starts: sunday

	# Optional custom level scaling (otherwise defaults are used)
	# level_scale:
	#   - levels: "1-10"
	#     xp_per_level: 360
	#   - levels: "11-60"
	#     scaling: logarithmic
	#     target_total_seconds: 255600

	# Level groupings (badges and titles for level ranges)
	# If omitted, uses sensible defaults
	# level_groupings:
	#   - levels: "1-9"
	#     title: "Novice"
	#     badge: "üå±"
	#     color: "#10b981"
	#   - levels: "11-19"
	#     title: "General"
	#     badge: "üìª"
	#     color: "#3b82f6"
	#   - levels: "21-29"
	#     title: "Extra"
	#     badge: "‚ö°"
	#     color: "#8b5cf6"
	#   - levels: "30-39"
	#     title: "Elmer"
	#     badge: "üéì"
	#     color: "#f59e0b"
	#   - levels: "40-49"
	#     title: "Ambassador"
	#     badge: "üèÜ"
	#     color: "#ef4444"
	#   - levels: "50-55"
	#     title: "Master"
	#     badge: "üëë"
	#     color: "#ec4899"
	#   - levels: "56-60"
	#     title: "Professor"
	#     badge: "üéñÔ∏è"
	#     color: "#6366f1"
